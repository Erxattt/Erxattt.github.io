import{_ as i,c as a,a as n,o as e}from"./app-H92NnqWz.js";const l="/assets/setp1-CJSPGGhs.png",p="/assets/setp2-f5xZGHFR.png",t="/assets/setp3-S58IboQE.png",h="/assets/setp5-CKdvIM9m.png",k="/assets/setp4-DzRlGjgi.png",d="/assets/setp6-Cu7IiPCK.png",r={};function c(g,s){return e(),a("div",null,s[0]||(s[0]=[n('<h2 id="github-配置" tabindex="-1"><a class="header-anchor" href="#github-配置"><span>github 配置</span></a></h2><h3 id="创建-github-仓库" tabindex="-1"><a class="header-anchor" href="#创建-github-仓库"><span>创建 github 仓库</span></a></h3><p><img src="'+l+'" alt="sep1"></p><h3 id="创建一个分支存储编译完成的代码" tabindex="-1"><a class="header-anchor" href="#创建一个分支存储编译完成的代码"><span>创建一个分支存储编译完成的代码</span></a></h3><p><img src="'+p+'" alt="sep1"></p><h3 id="设置静态页面对应的分支" tabindex="-1"><a class="header-anchor" href="#设置静态页面对应的分支"><span>设置静态页面对应的分支</span></a></h3><p><img src="'+t+'" alt="sep1"></p><h3 id="生成-accesstoken" tabindex="-1"><a class="header-anchor" href="#生成-accesstoken"><span>生成 accesstoken</span></a></h3><p><img src="'+h+'" alt="sep1"></p><p>点击生成是上面的步骤</p><p><img src="'+k+'" alt="sep1"></p><p>将 token 绑定到创建的仓库里</p><p><img src="'+d+`" alt="sep1"></p><p>至此 github 的配置完毕</p><h2 id="本地配置" tabindex="-1"><a class="header-anchor" href="#本地配置"><span>本地配置</span></a></h2><h3 id="创建-vuepress-的博客示例" tabindex="-1"><a class="header-anchor" href="#创建-vuepress-的博客示例"><span>创建 vuepress 的博客示例</span></a></h3><p>关于如何创建请访问<a href="https://vuepress.vuejs.org/guide/getting-started.html" target="_blank" rel="noopener noreferrer">vuepress 官网</a></p><h3 id="git-绑定远程仓库" tabindex="-1"><a class="header-anchor" href="#git-绑定远程仓库"><span>git 绑定远程仓库</span></a></h3><ol><li><p>将 vuepress 项目绑定到远程仓库</p></li><li><p>修改项目中.github/workflows/下的 deploy.yaml（名字可能不一样）文件，需要修改的是两个重要的属性，其他的不要变。</p><ul><li><p>第一个是<code>GITHUB_TOKEN</code>填前面设置的 key</p></li><li><p>第二个是<code>target_branch</code>写前面设置的静态的那个分支</p></li></ul><div class="language-yaml line-numbers-mode" data-ext="yaml" data-title="yaml"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> deploy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 每当 push 到 main 分支时触发部署</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # Deployment is triggered whenever a push is made to the main branch.</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  push</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    branches</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 手动触发部署</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # Manually trigger deployment</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  workflow_dispatch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">jobs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  docs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    runs-on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ubuntu-latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    steps</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> uses</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # “最近更新时间” 等 git 日志相关信息，需要拉取全部提交记录</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # &quot;Last updated time&quot; and other git log-related information require fetching all commit records.</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          fetch-depth</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Setup Node.js</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        uses</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> actions/setup-node@v4</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # 选择要使用的 node 版本</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          node-version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # Install dependencies</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Install Dependencies</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> npm ci</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # 运行构建脚本</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # Run the build script</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Build VuePress site</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> npm run docs:build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # 查看 workflow 的文档来获取更多信息</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      # @see https://github.com/crazy-max/ghaction-github-pages</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      -</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Deploy to GitHub Pages</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        uses</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> crazy-max/ghaction-github-pages@v4</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        with</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # 部署到 gh-pages 分支</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          target_branch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> blog_pages</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # 部署目录为 VuePress 的默认输出目录</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          build_dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docs/.vuepress/dist</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        env</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # @see https://docs.github.com/cn/actions/reference/authentication-in-a-workflow#about-the-github_token-secret</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          GITHUB_TOKEN</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> \${{ secrets.BLOG_ACCESS_TOKEN }}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>打包 vuepress 注意需要打包到上面<code>build_dir</code>的位置</li><li>最后提交代码，发布到远程 main 分支去不是静态分支</li><li>看一下远程仓库的 Actions 是否成功</li><li>部署完毕</li></ol></li></ol>`,19)]))}const v=i(r,[["render",c],["__file","index.html.vue"]]),o=JSON.parse('{"path":"/article/ik4hnafw/","title":"部署vuepress到github","lang":"zh-CN","frontmatter":{"title":"部署vuepress到github","tags":["vuepress","github"],"createTime":"2024/10/28 18:15:57","permalink":"/article/ik4hnafw/"},"headers":[{"level":2,"title":"github 配置","slug":"github-配置","link":"#github-配置","children":[{"level":3,"title":"创建 github 仓库","slug":"创建-github-仓库","link":"#创建-github-仓库","children":[]},{"level":3,"title":"创建一个分支存储编译完成的代码","slug":"创建一个分支存储编译完成的代码","link":"#创建一个分支存储编译完成的代码","children":[]},{"level":3,"title":"设置静态页面对应的分支","slug":"设置静态页面对应的分支","link":"#设置静态页面对应的分支","children":[]},{"level":3,"title":"生成 accesstoken","slug":"生成-accesstoken","link":"#生成-accesstoken","children":[]}]},{"level":2,"title":"本地配置","slug":"本地配置","link":"#本地配置","children":[{"level":3,"title":"创建 vuepress 的博客示例","slug":"创建-vuepress-的博客示例","link":"#创建-vuepress-的博客示例","children":[]},{"level":3,"title":"git 绑定远程仓库","slug":"git-绑定远程仓库","link":"#git-绑定远程仓库","children":[]}]}],"readingTime":{"minutes":1.58,"words":475},"git":{"createdTime":1730119916000,"updatedTime":1730120070000,"contributors":[{"name":"aliyun2753808549","email":"2908166461@qq.com","commits":2}]},"filePathRelative":"部署vuepress到github.md","categoryList":[],"bulletin":false}');export{v as comp,o as data};
